<?xml version="1.0" encoding="UTF-8"?>
<!--
    user_VBoxManage.xml:
      VBoxManage documentation for the user manual.

      This XML document is also be used for generating the help text
      built into VBoxManage as well as manpages (hacking in progress).

    Copyright (C) 2006-2020 Oracle Corporation

    This file is part of VirtualBox Open Source Edition (OSE), as
    available from http://www.virtualbox.org. This file is free software;
    you can redistribute it and/or modify it under the terms of the GNU
    General Public License (GPL) as published by the Free Software
    Foundation, in version 2 as it comes in the "COPYING" file of the
    VirtualBox OSE distribution. VirtualBox OSE is distributed in the
    hope that it will be useful, but WITHOUT ANY WARRANTY of any kind.
 -->
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"[
<!ENTITY % all.entities SYSTEM "all-entities.ent">
%all.entities;
]>
<chapter id="vboxmanage">

  <title>VBoxManage</title>

  <sect1 id="vboxmanage-intro">

    <title>Introduction</title>

    <para>
      As briefly mentioned in <xref linkend="frontends" />,
      <command>VBoxManage</command> is the command-line interface to
      &product-name;. With it, you can completely control &product-name;
      from the command line of your host operating system.
      <command>VBoxManage</command> supports all the features that the
      graphical user interface gives you access to, but it supports a
      lot more than that. It exposes all the features of the
      virtualization engine, even those that cannot be accessed from the
      GUI.
    </para>

    <para>
      You will need to use the command line if you want to do the
      following:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          Use a different user interface than the main GUI such as the
          VBoxHeadless server.
        </para>
      </listitem>

      <listitem>
        <para>
          Control some of the more advanced and experimental
          configuration settings for a VM.
        </para>
      </listitem>

    </itemizedlist>

    <para>
      There are two main things to keep in mind when using
      <command>VBoxManage</command>. First,
      <command>VBoxManage</command> must always be used with a specific
      subcommand, such as <command>list</command> or
      <command>createvm</command> or <command>startvm</command>. All the
      subcommands that <command>VBoxManage</command> supports are
      described in detail in <xref linkend="vboxmanage" />.
    </para>

    <para>
      Second, most of these subcommands require that you specify a
      particular virtual machine after the subcommand. There are two
      ways you can do this:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          You can specify the VM name, as it is shown in the
          &product-name; GUI. Note that if that name contains spaces,
          then you must enclose the entire name in double quotes. This
          is always required with command line arguments that contain
          spaces. For example:
        </para>

<screen>VBoxManage startvm "Windows XP"</screen>
      </listitem>

      <listitem>
        <para>
          You can specify the UUID, which is the internal unique
          identifier that &product-name; uses to refer to the virtual
          machine. Assuming that the VM called "Windows XP" has the UUID
          shown below, the following command has the same effect as the
          previous example:
        </para>

<screen>VBoxManage startvm 670e746d-abea-4ba6-ad02-2a3b043810a5</screen>
      </listitem>

    </itemizedlist>

    <para>
      You can enter <command>VBoxManage list vms</command> to have all
      currently registered VMs listed with all their settings, including
      their respective names and UUIDs.
    </para>

    <para>
      Some typical examples of how to control &product-name; from the
      command line are listed below:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          To create a new virtual machine from the command line and
          immediately register it with &product-name;, use
          <command>VBoxManage createvm</command> with the
          <option>--register</option> option, as follows:
        </para>

<screen>$ VBoxManage createvm --name "SUSE 10.2" --register
VirtualBox Command Line Management Interface Version <replaceable>version-number</replaceable>
(C) 2005-2018 Oracle Corporation
All rights reserved.

Virtual machine 'SUSE 10.2' is created.
UUID: c89fc351-8ec6-4f02-a048-57f4d25288e5
Settings file: '/home/username/.config/VirtualBox/Machines/SUSE 10.2/SUSE 10.2.xml'</screen>

        <para>
          As can be seen from the above output, a new virtual machine
          has been created with a new UUID and a new XML settings file.
        </para>

        <para>
          For more details, see
          <xref
            linkend="vboxmanage-createvm" />.
        </para>
      </listitem>

      <listitem>
        <para>
          To show the configuration of a particular VM, use
          <command>VBoxManage showvminfo</command>. See
          <xref
        linkend="vboxmanage-showvminfo" /> for details
          and an example.
        </para>
      </listitem>

      <listitem>
        <para>
          To change settings while a VM is powered off, use
          <command>VBoxManage modifyvm</command>. For example:
        </para>

<screen>VBoxManage modifyvm "Windows XP" --memory 512</screen>

        <para>
          See also <xref linkend="vboxmanage-modifyvm" />.
        </para>
      </listitem>

      <listitem>
        <para>
          To change the storage configuration, such as to add a storage
          controller and then a virtual disk, use <command>VBoxManage
          storagectl</command> and <command>VBoxManage
          storageattach</command>. See
          <xref
        linkend="vboxmanage-storagectl" /> and
          <xref
        linkend="vboxmanage-storageattach" />.
        </para>
      </listitem>

      <listitem>
        <para>
          To control VM operation, use one of the following:
        </para>

        <itemizedlist>

          <listitem>
            <para>
              To start a VM that is currently powered off, use
              <command>VBoxManage startvm</command>. See
              <xref
              linkend="vboxmanage-startvm" />.
            </para>
          </listitem>

          <listitem>
            <para>
              To pause or save a VM that is currently running or change
              some of its settings, use <command>VBoxManage
              controlvm</command>. See
              <xref
              linkend="vboxmanage-controlvm" />.
            </para>
          </listitem>

        </itemizedlist>
      </listitem>

    </itemizedlist>

  </sect1>

  <sect1 id="vboxmanage-cmd-overview">

    <title>Commands Overview</title>

    <para>
      When running <command>VBoxManage</command> without parameters or
      when supplying an invalid command line, the following command
      syntax list is shown. Note that the output will be slightly
      different depending on the host platform. If in doubt, check the
      output of <command>VBoxManage</command> for the commands available
      on your particular host.
    </para>

    <xi:include href="user_VBoxManage_CommandsOverview.xml" xpointer="xpointer(/sect1/*)"
      xmlns:xi="http://www.w3.org/2001/XInclude" />

    <para>
      Each time <command>VBoxManage</command> is invoked, only one
      command can be executed. However, a command might support several
      subcommands which then can be invoked in one single call. The
      following sections provide detailed reference information on the
      different commands.
    </para>

  </sect1>

  <!-- TODO: Figure out how we can generate a file with the includes... The trouble is
             that xpointer doesn't seem to allow including multiple elements.

             In the mean time, when adding new VBoxManage man pages to Config.kmk,
             don't forget to add it here too.
   -->

  <sect1 id="vboxmanage-general">

    <title>General Options</title>

    <itemizedlist>

      <listitem>
        <para>
          <option>-v|--version</option>: Show the version of this tool
          and exit.
        </para>
      </listitem>

      <listitem>
        <para>
          <option>--nologo</option>: Suppress the output of the logo
          information. This option is useful for scripts.
        </para>
      </listitem>

      <listitem>
        <para>
          <option>--settingspw</option>: Specifiy a settings password.
        </para>
      </listitem>

      <listitem>
        <para>
          <option>--settingspwfile</option>: Specify a file containing
          the settings password.
        </para>
      </listitem>

    </itemizedlist>

    <para>
      The settings password is used for certain settings which need to
      be stored in encrypted form for security reasons. At the moment,
      the only encrypted setting is the iSCSI initiator secret, see
      <xref linkend="vboxmanage-storageattach" />. As long as no
      settings password is specified, this information is stored in
      <emphasis>plain text</emphasis>. After using the
      <option>--settingspw|--settingspwfile</option> option once, it
      must be always used. Otherwise, the encrypted setting cannot be
      unencrypted.
    </para>

  </sect1>

  <!-- TODO: Check the overview/common man page -->
  <xi:include href="user_man_VBoxManage.xml"                xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-list.xml"           xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-showvminfo.xml"     xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-registervm.xml"     xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-unregistervm.xml"   xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-createvm.xml"       xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-modifyvm.xml"       xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-clonevm.xml"        xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-movevm.xml"         xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-cloud.xml"          xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-cloudprofile.xml"   xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-import.xml"         xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-export.xml"         xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-signova.xml"        xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-startvm.xml"        xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-controlvm.xml"      xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-unattended.xml"     xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-discardstate.xml"   xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-adoptstate.xml"     xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-snapshot.xml"       xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-closemedium.xml"    xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <sect1 id="vboxmanage-storageattach">

    <title>VBoxManage storageattach</title>

    <para>
      This command attaches, modifies, and removes a storage medium
      connected to a storage controller that was previously added with
      the <command>storagectl</command> command. The syntax is as
      follows:
    </para>

<screen>VBoxManage storageattach    &lt;uuid|vmname&gt;
                            --storagectl &lt;name&gt;
                            [--port &lt;number&gt;]
                            [--device &lt;number&gt;]
                            [--type dvddrive|hdd|fdd]
                            [--medium none|emptydrive|additions|
                                      &lt;uuid&gt;|&lt;filename&gt;|host:&lt;drive&gt;|iscsi]
                            [--mtype normal|writethrough|immutable|shareable
                                     readonly|multiattach]
                            [--comment &lt;text&gt;]
                            [--setuuid &lt;uuid&gt;]
                            [--setparentuuid &lt;uuid&gt;]
                            [--passthrough on|off]
                            [--tempeject on|off]
                            [--nonrotational on|off]
                            [--discard on|off]
                            [--hotpluggable on|off]
                            [--bandwidthgroup name|none]
                            [--forceunmount]
                            [--server &lt;name&gt;|&lt;ip&gt;]
                            [--target &lt;target&gt;]
                            [--tport &lt;port&gt;]
                            [--lun &lt;lun&gt;]
                            [--encodedlun &lt;lun&gt;]
                            [--username &lt;username&gt;]
                            [--password &lt;password&gt;]
                            [--passwordfile &lt;file&gt;]
                            [--initiator &lt;initiator&gt;]
                            [--intnet]</screen>

    <para>
      A number of parameters are commonly required. Some parameters are
      required only for iSCSI targets.
    </para>

    <para>
      The common parameters are as follows:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>uuid|vmname</computeroutput>
        </term>

        <listitem>
          <para>
            The VM UUID or VM Name. Mandatory.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--storagectl</computeroutput>
        </term>

        <listitem>
          <para>
            Name of the storage controller. Mandatory. The list of the
            storage controllers currently attached to a VM can be
            obtained with <command>VBoxManage showvminfo</command>. See
            <xref linkend="vboxmanage-showvminfo" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--port</computeroutput>
        </term>

        <listitem>
          <para>
            The number of the storage controller's port which is to be
            modified. Mandatory, unless the storage controller has only
            a single port.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--device</computeroutput>
        </term>

        <listitem>
          <para>
            The number of the port's device which is to be modified.
            Mandatory, unless the storage controller has only a single
            device per port.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--type</computeroutput>
        </term>

        <listitem>
          <para>
            Define the type of the drive to which the medium is being
            attached, detached, or modified. This argument can only be
            omitted if the type of medium can be determined from either
            the medium given with the
            <computeroutput>--medium</computeroutput> argument or from a
            previous medium attachment.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--medium</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies what is to be attached. The following values are
            supported:
          </para>

          <itemizedlist>

            <listitem>
              <para>
                <computeroutput>none</computeroutput>: Any existing
                device should be removed from the given slot.
              </para>
            </listitem>

            <listitem>
              <para>
                <computeroutput>emptydrive</computeroutput>: For a
                virtual DVD or floppy drive only, this makes the device
                slot behave like a removeable drive into which no media
                has been inserted.
              </para>
            </listitem>

            <listitem>
              <para>
                <computeroutput>additions</computeroutput>: For a
                virtual DVD drive only, this attaches the
                <emphasis>VirtualBox Guest Additions</emphasis> image to
                the given device slot.
              </para>
            </listitem>

            <listitem>
              <para>
                If a UUID is specified, it must be the UUID of a storage
                medium that is already known to &product-name;. For
                example, because it has been attached to another virtual
                machine. See <xref linkend="vboxmanage-list" /> for
                details of how to list known media. This medium is then
                attached to the given device slot.
              </para>
            </listitem>

            <listitem>
              <para>
                If a filename is specified, it must be the full path of
                an existing disk image in ISO, RAW, VDI, VMDK, or other
                format. The disk image is then attached to the given
                device slot.
              </para>
            </listitem>

            <listitem>
              <para>
                <computeroutput>host:&lt;drive&gt;</computeroutput>: For
                a virtual DVD or floppy drive only, this connects the
                given device slot to the specified DVD or floppy drive
                on the host computer.
              </para>
            </listitem>

            <listitem>
              <para>
                <computeroutput>iscsi</computeroutput>: For virtual hard
                disks only, this is used for specifying an iSCSI target.
                In this case, additional parameters must be given. These
                are described below.
              </para>
            </listitem>

          </itemizedlist>

          <para>
            Some of the above changes, in particular for removeable
            media such as floppies and CDs/DVDs, can be effected while a
            VM is running. Others, such as device changes or changes in
            hard disk device slots, require the VM to be powered off.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--mtype</computeroutput>
        </term>

        <listitem>
          <para>
            Defines how this medium behaves with respect to snapshots
            and write operations. See <xref linkend="hdimagewrites" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--comment</computeroutput>
        </term>

        <listitem>
          <para>
            An optional description that you want to have stored with
            this medium. For example, for an iSCSI target, "Big storage
            server downstairs". This is purely descriptive and not
            needed for the medium to function correctly.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--setuuid, --setparentuuid</computeroutput>
        </term>

        <listitem>
          <para>
            Modifies the UUID or parent UUID of a medium before
            attaching it to a VM. This is an expert option.
            Inappropriate use can make the medium unusable or lead to
            broken VM configurations if any other VM is referring to the
            same media already. The most frequently used variant is
            <computeroutput>--setuuid ""</computeroutput>, which assigns
            a new random UUID to an image. This option is useful for
            resolving duplicate UUID errors if you duplicated an image
            using a file copy utility.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--passthrough</computeroutput>
        </term>

        <listitem>
          <para>
            For a virtual DVD drive only, you can enable DVD writing
            support. This feature is currently experimental, see
            <xref
            linkend="storage-cds" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--tempeject</computeroutput>
        </term>

        <listitem>
          <para>
            For a virtual DVD drive only, you can configure the behavior
            for guest-triggered medium eject. If this is set to on, the
            eject has only a temporary effect. If the VM is powered off
            and restarted the originally configured medium will be still
            in the drive.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--nonrotational</computeroutput>
        </term>

        <listitem>
          <para>
            Enables you to enable the non-rotational flag for virtual
            hard disks. Some guests, such as Windows 7 or later, treat
            such disks like SSDs and do not perform disk fragmentation
            on such media.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--discard</computeroutput>
        </term>

        <listitem>
          <para>
            Enables the auto-discard feature for a virtual hard disks.
            This specifies that a VDI image will be shrunk in response
            to the trim command from the guest OS. The following
            requirements must be met:
          </para>

          <itemizedlist>

            <listitem>
              <para>
                The disk format must be VDI.
              </para>
            </listitem>

            <listitem>
              <para>
                The size of the cleared area must be at least 1 MB.
              </para>
            </listitem>

            <listitem>
              <para>
                &product-name; will only trim whole 1 MB blocks. The
                VDIs themselves are organized into 1 MB blocks, so this
                will only work if the space being trimmed is at least a
                1 MB contiguous block at a 1 MB boundary. On Windows,
                occasional defragmentation with <command>defrag.exe
                /D</command>, or on Linux running <command>btrfs
                filesystem defrag</command> as a background cron job may
                be beneficial.
              </para>
            </listitem>

          </itemizedlist>

          <note>
            <para>
              The Guest OS must be configured to issue the
              <command>trim</command> command, and typically this means
              that the guest OS is made to see the disk as an SSD. Ext4
              supports the -o discard mount flag. Mac OS X probably
              requires additional settings. Windows should automatically
              detect and support SSDs, at least in versions 7, 8, and
              10. The Linux exFAT driver from Samsung supports the
              <command>trim</command> command.
            </para>
          </note>

          <para>
            It is unclear whether Microsoft's implementation of exFAT
            supports this feature, even though that file system was
            originally designed for flash.
          </para>

          <para>
            Alternatively, there are other methods to issue trim. For
            example, the Linux <command>fstrim</command> command, part
            of the util-linux package. Earlier solutions required a user
            to zero out unused areas, using zerofree or similar, and to
            compact the disk. This is only possible when the VM is
            offline.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--bandwidthgroup</computeroutput>
        </term>

        <listitem>
          <para>
            Sets the bandwidth group to use for the given device. See
            <xref linkend="storage-bandwidth-limit" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--forceunmount</computeroutput>
        </term>

        <listitem>
          <para>
            For a virtual DVD or floppy drive only, this forcibly
            unmounts the DVD/CD/Floppy or mounts a new DVD/CD/Floppy
            even if the previous one is locked down by the guest for
            reading. See <xref linkend="storage-cds" />.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>
      When <computeroutput>iscsi</computeroutput> is used with the
      <computeroutput>--medium</computeroutput> parameter for iSCSI
      support, additional parameters must or can be used. See also
      <xref linkend="storage-iscsi" />.
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>--server</computeroutput>
        </term>

        <listitem>
          <para>
            The host name or IP address of the iSCSI target. Required.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--target</computeroutput>
        </term>

        <listitem>
          <para>
            Target name string. This is determined by the iSCSI target
            and used to identify the storage resource. Required.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--tport</computeroutput>
        </term>

        <listitem>
          <para>
            TCP/IP port number of the iSCSI service on the target.
            Optional.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--lun</computeroutput>
        </term>

        <listitem>
          <para>
            Logical Unit Number of the target resource. Optional. Often,
            this value is zero.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--encodedlun</computeroutput>
        </term>

        <listitem>
          <para>
            Hex-encoded Logical Unit Number of the target resource.
            Optional. Often, this value is zero.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--username, --password,
          --passwordfile</computeroutput>
        </term>

        <listitem>
          <para>
            Username and password, called the initiator secret, for
            target authentication, if required. Optional.
          </para>

          <note>
            <para>
              Username and password are stored without encryption, in
              clear text, in the XML machine configuration file if no
              settings password is provided. When a settings password is
              specified for the first time, the password is stored in
              encrypted form. As an alternative to providing the
              password on the command line, a reference to a file
              containing the text can be provided using the
              <computeroutput>passwordfile</computeroutput> option.
            </para>
          </note>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--initiator</computeroutput>
        </term>

        <listitem>
          <para>
            iSCSI Initiator. Optional.
          </para>

          <para>
            Microsoft iSCSI Initiator is a system, such as a server that
            attaches to an IP network and initiates requests and
            receives responses from an iSCSI target. The SAN components
            in Microsoft iSCSI Initiator are largely analogous to Fibre
            Channel SAN components, and they include the following:
          </para>

          <itemizedlist>

            <listitem>
              <para>
                To transport blocks of iSCSI commands over the IP
                network, an iSCSI driver must be installed on the iSCSI
                host. An iSCSI driver is included with Microsoft iSCSI
                Initiator.
              </para>
            </listitem>

            <listitem>
              <para>
                A gigabit Ethernet adapter that transmits 1000 megabits
                per second (Mbps) is recommended for the connection to
                an iSCSI target. Like standard 10/100 adapters, most
                gigabit adapters use a preexisting Category 5 or
                Category 6E cable. Each port on the adapter is
                identified by a unique IP address.
              </para>
            </listitem>

            <listitem>
              <para>
                An iSCSI target is any device that receives iSCSI
                commands. The device can be an end node, such as a
                storage device, or it can be an intermediate device,
                such as a network bridge between IP and Fibre Channel
                devices. Each port on the storage array controller or
                network bridge is identified by one or more IP addresses
              </para>
            </listitem>

          </itemizedlist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--intnet</computeroutput>
        </term>

        <listitem>
          <para>
            If specified, connect to the iSCSI target using Internal
            Networking. This needs further configuration, see
            <xref linkend="iscsi-intnet" />.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect1>

  <xi:include href="user_man_VBoxManage-storagectl.xml"    xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-bandwidthctl.xml"  xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-showmediuminfo.xml" xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-createmedium.xml"   xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <sect1 id="vboxmanage-modifymedium">

    <title>VBoxManage modifymedium</title>

    <para>
      With the <command>modifymedium</command> command, you can change
      the characteristics of a disk image after it has been created.
    </para>

<screen>VBoxManage modifymedium  [disk|dvd|floppy]    &lt;uuid|filename&gt;
                         [--type normal|writethrough|immutable|shareable|
                                 readonly|multiattach]
                         [--autoreset on|off]
                         [--property &lt;name=[value]&gt;]
                         [--compact]
                         [--resize &lt;megabytes&gt;|--resizebyte &lt;bytes&gt;]
                         [--move &lt;path&gt;]
                         [--setlocation &lt;path&gt;]</screen>

    <note>
      <para>
        For compatibility with earlier versions of &product-name;, the
        <command>modifyvdi</command> and <command>modifyhd</command>
        commands are also supported and mapped internally to the
        <command>modifymedium</command> command.
      </para>
    </note>

    <para>
      The disk image to modify must be specified either by its UUID, if
      the medium is registered, or by its filename. Registered images
      can be listed using <command>VBoxManage list hdds</command>, see
      <xref linkend="vboxmanage-list" />. A filename must be specified
      as a valid path, either as an absolute path or as a relative path
      starting from the current directory.
    </para>

    <para>
      The following options are available:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          With the <computeroutput>--type</computeroutput> argument, you
          can change the type of an existing image between the normal,
          immutable, write-through and other modes. See
          <xref
          linkend="hdimagewrites" />.
        </para>
      </listitem>

      <listitem>
        <para>
          For immutable hard disks only, the <computeroutput>--autoreset
          on|off</computeroutput> option determines whether the disk is
          automatically reset on every VM startup. See
          <xref linkend="hdimagewrites" />. By default, autoreset is on.
        </para>
      </listitem>

      <listitem>
        <para>
          The <computeroutput>--compact</computeroutput> option can be
          used to compact disk images. Compacting removes blocks that
          only contains zeroes. Using this option will shrink a
          dynamically allocated image. It will reduce the
          <emphasis>physical</emphasis> size of the image without
          affecting the logical size of the virtual disk. Compaction
          works both for base images and for differencing images created
          as part of a snapshot.
        </para>

        <para>
          For this operation to be effective, it is required that free
          space in the guest system first be zeroed out using a suitable
          software tool. For Windows guests, you can use the
          <command>sdelete</command> tool provided by Microsoft. Run
          <command>sdelete -z</command> in the guest to zero the free
          disk space, before compressing the virtual disk image. For
          Linux, use the <command>zerofree</command> utility which
          supports ext2/ext3 filesystems. For Mac OS X guests, use the
          <computeroutput>diskutil secureErase freespace 0
          /</computeroutput> command from an elevated Terminal.
        </para>

        <para>
          Please note that compacting is currently only available for
          VDI images. A similar effect can be achieved by zeroing out
          free blocks and then cloning the disk to any other dynamically
          allocated format. You can use this workaround until compacting
          is also supported for disk formats other than VDI.
        </para>
      </listitem>

      <listitem>
        <para>
          The <computeroutput>--resize x</computeroutput> option, where
          x is the desired new total space in megabytes enables you to
          change the capacity of an existing image. This adjusts the
          <emphasis>logical</emphasis> size of a virtual disk without
          affecting the physical size much.
        </para>

        <para>
          This option currently works only for VDI and VHD formats, and
          only for the dynamically allocated variants. It can only be
          used to expand, but not shrink, the capacity. For example, if
          you originally created a 10 GB disk which is now full, you can
          use the <computeroutput>--resize 15360</computeroutput>
          command to change the capacity to 15 GB (15,360 MB) without
          having to create a new image and copy all data from within a
          virtual machine. Note however that this only changes the drive
          capacity. You will typically next need to use a partition
          management tool inside the guest to adjust the main partition
          to fill the drive.
        </para>

        <para>
          The <computeroutput>--resizebyte x</computeroutput> option
          does almost the same thing, except that x is expressed in
          bytes instead of megabytes.
        </para>
      </listitem>

      <listitem>
        <para>
          The <computeroutput>--move &lt;path&gt;</computeroutput>
          option can be used to relocate a medium to a different
          location &lt;path&gt; on the host file system. The path can be
          either relative to the current directory or absolute.
        </para>
      </listitem>

      <listitem>
        <para>
          The <computeroutput>--setlocation
          &lt;path&gt;</computeroutput> option can be used to set the
          new location &lt;path&gt; of the medium on the host file
          system if the medium has been moved for any reasons. The path
          can be either relative to the current directory or absolute.
        </para>

        <note>
          <para>
            The new location is used as is, without any sanity checks.
            The user is responsible for setting the correct path.
          </para>
        </note>
      </listitem>

    </itemizedlist>

  </sect1>

  <xi:include href="user_man_VBoxManage-clonemedium.xml"   xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-mediumproperty.xml" xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-encryptmedium.xml"  xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-checkmediumpwd.xml" xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-convertfromraw.xml" xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-mediumio.xml"       xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-setextradata.xml"   xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-getextradata.xml"   xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <sect1 id="vboxmanage-setproperty">

    <title>VBoxManage setproperty</title>

    <para>
      This command is used to change global settings which affect the
      entire &product-name; installation. Some of these correspond to
      the settings in the <emphasis role="bold">Preferences</emphasis>
      dialog in the VirtualBox Manager. The following properties are
      available:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>machinefolder</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies the default folder in which virtual machine
            definitions are kept. See <xref linkend="vboxconfigdata" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>hwvirtexclusive</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies whether &product-name; will make exclusive use of
            the hardware virtualization extensions (Intel VT-x or AMD-V)
            of the host system's processor. See
            <xref linkend="hwvirt" />. If you wish to share these
            extensions with other hypervisors running at the same time,
            you must disable this setting. Doing so has negative
            performance implications.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>vrdeauthlibrary</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies which library to use when external authentication
            has been selected for a particular virtual machine. See
            <xref linkend="vbox-auth" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>websrvauthlibrary</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies which library the web service uses to authenticate
            users. For details about the &product-name; web service, see
            the &product-name; SDK reference,
            <xref
            linkend="VirtualBoxAPI" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>vrdeextpack</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies which library implements the VirtualBox Remote
            Desktop Extension.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>loghistorycount</computeroutput>
        </term>

        <listitem>
          <para>
            Selects how many rotated VM logs are retained.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>autostartdbpath</computeroutput>
        </term>

        <listitem>
          <para>
            Selects the path to the autostart database. See
            <xref linkend="autostart" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>defaultfrontend</computeroutput>
        </term>

        <listitem>
          <para>
            Selects the global default VM frontend setting. See
            <xref linkend="vboxmanage-startvm" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>logginglevel</computeroutput>
        </term>

        <listitem>
          <para>
            Configures the VBoxSVC release logging details. See
            <ulink url="http://www.virtualbox.org/wiki/VBoxLogging" />.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>proxymode</computeroutput>
        </term>

        <listitem>
          <para>
            Configures the mode for an HTTP proxy server.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>proxyurl</computeroutput>
        </term>

        <listitem>
          <para>
            Configures the URL for an HTTP proxy server. Used when a
            manual proxy is configured using the
            <computeroutput>manual</computeroutput> setting of the
            <computeroutput>proxymode</computeroutput> property.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>language</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies the user language used to translate API messages.
            Valid values are <literal>C</literal>, which means no
            translation or language code in form either <literal>ll</literal>
            or <literal>ll_CC</literal>, where <literal>ll</literal> is
            language 2 letters code in lower case and
            <literal>CC</literal> is country 2 letter code in upper case.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect1>

  <sect1 id="vboxmanage-usbfilter">

    <title>VBoxManage usbfilter add/modify/remove</title>

<screen>VBoxManage usbfilter        add &lt;index,0-N&gt;
                          --target &lt;uuid|vmname&gt;global
                          --name &lt;string&gt;
                          --action ignore|hold (global filters only)
                         [--active yes|no (yes)]
                         [--vendorid &lt;XXXX&gt; (null)]
                         [--productid &lt;XXXX&gt; (null)]
                         [--revision &lt;IIFF&gt; (null)]
                         [--manufacturer &lt;string&gt; (null)]
                         [--product &lt;string&gt; (null)]
                         [--remote yes|no (null, VM filters only)]
                         [--serialnumber &lt;string&gt; (null)]
                         [--maskedinterfaces &lt;XXXXXXXX&gt;]
    </screen>

<screen>VBoxManage usbfilter        modify &lt;index,0-N&gt;
                          --target &lt;uuid|vmname&gt;global
                         [--name &lt;string&gt;]
                         [--action ignore|hold (global filters only)]
                         [--active yes|no]
                         [--vendorid &lt;XXXX&gt;]
                         [--productid &lt;XXXX&gt;]
                         [--revision &lt;IIFF&gt;]
                         [--manufacturer &lt;string&gt;]
                         [--product &lt;string&gt;]
                         [--remote yes|no (null, VM filters only)]
                         [--serialnumber &lt;string&gt;]
                         [--maskedinterfaces &lt;XXXXXXXX&gt;]
    </screen>

<screen>VBoxManage usbfilter        remove &lt;index,0-N&gt;
                          --target &lt;uuid|vmname&gt;global
    </screen>

    <para>
      The <command>usbfilter</command> commands are used for working
      with USB filters in virtual machines, or global filters which
      affect the whole &product-name; setup. Global filters are applied
      before machine-specific filters, and may be used to prevent
      devices from being captured by any virtual machine. Global filters
      are always applied in a particular order, and only the first
      filter which fits a device is applied. For example, if the first
      global filter says to hold, or make available, a particular
      Kingston memory stick device and the second filter says to ignore
      all Kingston devices. That particular Kingston memory stick will
      be available to any machine with the appropriate filter, but no
      other Kingston device will.
    </para>

    <para>
      When creating a USB filter using <command>usbfilter add</command>,
      you must supply three or four mandatory parameters. The index
      specifies the position in the list at which the filter should be
      placed. If there is already a filter at that position, then it and
      the following ones will be shifted back one place. Otherwise, the
      new filter will be added onto the end of the list. The
      <computeroutput>target</computeroutput> parameter selects the
      virtual machine that the filter should be attached to or use
      <computeroutput>global</computeroutput> to apply it to all virtual
      machines. <computeroutput>name</computeroutput> is a name for the
      new filter. For global filters,
      <computeroutput>action</computeroutput> says whether to allow VMs
      access to devices that fit the filter description (hold) or not to
      give them access (ignore). In addition, you should specify
      parameters to filter by. You can find the parameters for devices
      attached to your system using <command>VBoxManage list
      usbhost</command>. Finally, you can specify whether the filter
      should be active. For local filters, whether they are for local
      devices, remote devices over an RDP connection, or either.
    </para>

    <para>
      When you modify a USB filter using <command>usbfilter
      modify</command>, you must specify the filter by index and by
      target, which is either a virtual machine or
      <computeroutput>global</computeroutput>. See the output of
      <command>VBoxManage list usbfilters</command> to find global
      filter indexes and <command>VBoxManage showvminfo</command> to
      find indexes for individual machines. The properties which can be
      changed are the same as for <command>usbfilter add</command>. To
      remove a filter, use <command>usbfilter remove</command> and
      specify the index and the target.
    </para>

    <para>
      The following is a list of the additional <command>usbfilter
      add</command> and <command>usbfilter modify</command> options,
      with details of how to use them.
    </para>

    <itemizedlist>

      <listitem>
        <para>
          <computeroutput>--action ignore|hold</computeroutput>:
          Specifies whether devices that fit the filter description are
          allowed access by machines (hold), or have access denied
          (ignore). Applies to global filters only.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--active yes|no</computeroutput>: Specifies
          whether the USB Filter is active or temporarily disabled. For
          <computeroutput>usbfilter create</computeroutput> the default
          is active.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--vendorid &lt;XXXX&gt;|""</computeroutput>:
          Specifies a vendor ID filter. The string representation for an
          exact match has the form XXXX, where X is the hexadecimal
          digit, including leading zeroes.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--productid &lt;XXXX&gt;|""</computeroutput>:
          Specifies a product ID filter. The string representation for
          an exact match has the form XXXX, where X is the hexadecimal
          digit, including leading zeroes.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--revision &lt;IIFF&gt;|""</computeroutput>:
          Specifies a revision ID filter. The string representation for
          an exact match has the form IIFF, where I is the decimal digit
          of the integer part of the revision, and F is the decimal
          digit of its fractional part, including leading and trailing
          zeros. Note that for interval filters, it is best to use the
          hexadecimal form, because the revision is stored as a 16-bit
          packed BCD value. Therefore, the expression int:0x0100-0x0199
          will match any revision from 1.0 to 1.99 inclusive.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--manufacturer
          &lt;string&gt;|""</computeroutput>: Specifies a manufacturer
          ID filter, as a string.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--product &lt;string&gt;|""</computeroutput>:
          Specifies a product ID filter, as a string.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--remote yes|no""</computeroutput>: Specifies
          a remote filter, indicating whether the device is physically
          connected to a remote VRDE client or to a local host machine.
          Applies to VM filters only.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--serialnumber
          &lt;string&gt;|""</computeroutput>: Specifies a serial number
          filter, as a string.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--maskedinterfaces
          &lt;XXXXXXXX&gt;</computeroutput>: Specifies a masked
          interface filter, for hiding one or more USB interfaces from
          the guest. The value is a bit mask where the set bits
          correspond to the USB interfaces that should be hidden, or
          masked off. This feature only works on Linux hosts.
        </para>
      </listitem>

    </itemizedlist>

  </sect1>

  <xi:include href="user_man_VBoxManage-sharedfolder.xml"   xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <sect1 id="vboxmanage-guestproperty">

    <title>VBoxManage guestproperty</title>

    <para>
      The <command>guestproperty</command> commands enable you to get or
      set properties of a running virtual machine. See
      <xref linkend="guestadd-guestprops" />. Guest properties are
      arbitrary keyword-value string pairs which can be written to and
      read from by either the guest or the host, so they can be used as
      a low-volume communication channel for strings, provided that a
      guest is running and has the Guest Additions installed. In
      addition, a number of values whose keywords begin with
      <computeroutput>/VirtualBox/</computeroutput>are automatically set
      and maintained by the Guest Additions.
    </para>

    <para>
      The following subcommands are available, where
      <computeroutput>&lt;vm&gt;</computeroutput> can either be a VM
      name or a VM UUID, as with the other <command>VBoxManage</command>
      commands:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          <computeroutput>enumerate &lt;vm&gt; [--patterns
          &lt;pattern&gt;]</computeroutput>: Lists all the guest
          properties that are available for the given VM, including the
          value. This list will be very limited if the guest's service
          process cannot be contacted, for example because the VM is not
          running or the Guest Additions are not installed.
        </para>

        <para>
          If <computeroutput>--patterns &lt;pattern&gt;</computeroutput>
          is specified, it acts as a filter to only list properties that
          match the given pattern. The pattern can contain the following
          wildcard characters:
        </para>

        <itemizedlist>

          <listitem>
            <para>
              <computeroutput>*</computeroutput> (asterisk): Represents
              any number of characters. For example,
              "<computeroutput>/VirtualBox*</computeroutput>" would
              match all properties beginning with "/VirtualBox".
            </para>
          </listitem>

          <listitem>
            <para>
              <computeroutput>?</computeroutput> (question mark):
              Represents a single arbitrary character. For example,
              "<computeroutput>fo?</computeroutput>" would match both
              "foo" and "for".
            </para>
          </listitem>

          <listitem>
            <para>
              <computeroutput>|</computeroutput> (pipe symbol): Can be
              used to specify multiple alternative patterns. For
              example, "<computeroutput>s*|t*</computeroutput>" would
              match anything starting with either "s" or "t".
            </para>
          </listitem>

        </itemizedlist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>get &lt;vm&gt;
          &lt;property&gt;</computeroutput>: Retrieves the value of a
          single property only. If the property cannot be found, for
          example because the guest is not running, the following
          message is shown:
        </para>

<screen>No value set!</screen>
      </listitem>

      <listitem>
        <para>
          <computeroutput>set &lt;vm&gt; &lt;property&gt; [&lt;value&gt;
          [--flags &lt;flags&gt;]]</computeroutput>: Enables you to set
          a guest property by specifying the keyword and value. If
          <computeroutput>&lt;value&gt;</computeroutput> is omitted, the
          property is deleted. With
          <computeroutput>--flags</computeroutput>, you can specify
          additional behavior. You can combine several flags by
          separating them with commas.
        </para>

        <itemizedlist>

          <listitem>
            <para>
              <computeroutput>TRANSIENT</computeroutput>: The value will
              not be stored with the VM data when the VM exits.
            </para>
          </listitem>

          <listitem>
            <para>
              <computeroutput>TRANSRESET</computeroutput>: The value
              will be deleted as soon as the VM restarts or exits.
            </para>
          </listitem>

          <listitem>
            <para>
              <computeroutput>RDONLYGUEST</computeroutput>: The value
              can only be changed by the host, but the guest can only
              read it.
            </para>
          </listitem>

          <listitem>
            <para>
              <computeroutput>RDONLYHOST</computeroutput>: The value can
              only be changed by the guest, but the host can only read
              it.
            </para>
          </listitem>

          <listitem>
            <para>
              <computeroutput>READONLY</computeroutput>: The value
              cannot be changed at all.
            </para>
          </listitem>

        </itemizedlist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>wait &lt;vm&gt; &lt;pattern&gt; --timeout
          &lt;timeout&gt;</computeroutput>: Waits for a particular value
          described by the pattern string to change or to be deleted or
          created. The pattern rules are the same as for the
          <command>enumerate</command> subcommand.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>delete &lt;vm&gt;
          &lt;property&gt;</computeroutput>: Deletes a guest property
          which has been set previously.
        </para>
      </listitem>

    </itemizedlist>

  </sect1>

  <sect1 id="vboxmanage-guestcontrol">

    <title>VBoxManage guestcontrol</title>

    <para>
      The <command>guestcontrol</command> commands enable control of the
      guest from the host. See
      <xref
    linkend="guestadd-guestcontrol" /> for an introduction.
    </para>

    <para>
      The <command>guestcontrol</command> command has two sets of
      subcommands. The first set requires guest credentials to be
      specified, the second does not.
    </para>

    <para>
      The first set of subcommands is of the following form:
    </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; &lt;sub-command&gt;
            [--username &lt;name&gt; ]
            [--passwordfile &lt;file&gt; | --password &lt;password&gt;]
            [--domain &lt;domain&gt; ]
            [-v|--verbose] [-q|quiet] ...
    </screen>

    <para>
      The common options are as follows:
    </para>

<screen>
           [--username &lt;name&gt; ]
           [--passwordfile &lt;file&gt; | --password &lt;password&gt;]
           [--domain &lt;domain&gt; ]
           [-v|--verbose] [-q|quiet]
    </screen>

    <para>
      The common options for the first set of subcommands are explained
      in the following list.
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies the VM UUID or VM name. Mandatory.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--username &lt;name&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies the user name on guest OS under which the process
            should run. This user name must already exist on the guest
            OS. If unspecified, the host user name is used. Optional
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--passwordfile
          &lt;file&gt;|--password</computeroutput>
        </term>

        <listitem>
          <para>
            Specifies the absolute path on guest file system of password
            file containing the password for the specified user account
            or password for the specified user account. Optional. If
            both are omitted, empty password is assumed.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--domain &lt;domain&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            User domain for Windows guests. Optional.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>-v|--verbose</computeroutput>
        </term>

        <listitem>
          <para>
            Makes the subcommand execution more verbose. Optional
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>-q|--quiet</computeroutput>
        </term>

        <listitem>
          <para>
            Makes the subcommand execution quieter. Optional.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>
      The first set of subcommands are as follows:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          <computeroutput>run</computeroutput>: Executes a guest
          program, forwarding stdout, stderr, and stdin to and from the
          host until it completes.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; run [common-options]
            --exe &lt;path to executable&gt; [--timeout &lt;msec&gt;]
           [-E|--putenv &lt;NAME&gt;[=&lt;VALUE&gt;]] [--unquoted-args]
           [--ignore-operhaned-processes] [--profile]
           [--no-wait-stdout|--wait-stdout]
           [--no-wait-stderr|--wait-stderr]
           [--dos2unix] [--unix2dos]
            -- &lt;program/arg0&gt; [argument1] ... [argumentN]]
          </screen>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--exe &lt;path to
              executable&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the absolute path of the executable on the
                guest OS file system. Mandatory. For example:
                <filename>C:\Windows\System32\calc.exe</filename>.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--timeout &lt;msec&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the maximum time, in microseconds, that the
                executable can run, during which
                <command>VBoxManage</command> receives its output.
                Optional. If unspecified, <command>VBoxManage</command>
                waits indefinitely for the process to end, or an error
                occurs.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>-E|--putenv
              &lt;NAME&gt;=&lt;VALUE&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Sets, modifies, and unsets environment variables in the
                environment in which the program will run. Optional.
              </para>

              <para>
                The guest process is created with the standard default
                guest OS environment. Use this option to modify that
                default environment. To set or modify a variable use:
                <computeroutput>&lt;NAME&gt;=&lt;VALUE&gt;</computeroutput>.
                To unset a variable use:
                <computeroutput>&lt;NAME&gt;=</computeroutput>
              </para>

              <para>
                Any spaces in names and values should be enclosed by
                quotes.
              </para>

              <para>
                To set, modify, and unset multiple variables, use
                multiple instances of the
                <computeroutput>--E|--putenv</computeroutput> option.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--unquoted-args</computeroutput>
            </term>

            <listitem>
              <para>
                Disables escaped double quoting, such as \"fred\", on
                arguments passed to the executed program. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--ignore-operhaned-processes</computeroutput>
            </term>

            <listitem>
              <para>
                Ignore orphaned processes. Not yet implemented.
                Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--profile</computeroutput>
            </term>

            <listitem>
              <para>
                Use Profile. Not yet implemented. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--no-wait-stdout|--wait-stdout</computeroutput>
            </term>

            <listitem>
              <para>
                Does not wait or waits until the guest process ends and
                receives its exit code and reason/flags. In the case of
                <computeroutput>--wait-stdout</computeroutput>,
                <command>VBoxManage</command> receives its stdout while
                the process runs. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--no-wait-stderr|--wait-stderr</computeroutput>
            </term>

            <listitem>
              <para>
                Does not wait or waits until the guest process ends and
                receives its exit code, error messages, and flags. In
                the case of
                <computeroutput>--wait-stderr</computeroutput>,
                <command>VBoxManage</command> receives its stderr while
                the process runs. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--dos2unix</computeroutput>
            </term>

            <listitem>
              <para>
                Converts output from DOS/Windows guests to
                UNIX/Linux-compatible line endings, CR + LF to LF. Not
                yet implemented. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--unix2dos</computeroutput>
            </term>

            <listitem>
              <para>
                Converts output from a UNIX/Linux guests to
                DOS/Windows-compatible line endings, LF to CR + LF. Not
                yet implemented. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>[-- &lt;program/arg0&gt;
              [&lt;argument1&gt;] ...
              [&lt;argumentN&gt;]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the program name, followed by one or more
                arguments to pass to the program. Optional.
              </para>

              <para>
                Any spaces in arguments should be enclosed by quotes.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>

        <note>
          <para>
            On Windows there are certain limitations for graphical
            applications. See <xref linkend="KnownIssues" />.
          </para>
        </note>

        <para>
          Examples of using the <command>guestcontrol run</command>
          command are as follows:
        </para>

<screen>VBoxManage --nologo guestcontrol "My VM" run --exe "/bin/ls"
          --username foo --passwordfile bar.txt --wait-exit --wait-stdout -- -l /usr</screen>

<screen>VBoxManage --nologo guestcontrol "My VM" run --exe "c:\\windows\\system32\\ipconfig.exe"
          --username foo --passwordfile bar.txt --wait-exit --wait-stdout</screen>

        <para>
          Note that the double backslashes in the second example are
          only required on UNIX hosts.
        </para>

        <note>
          <para>
            For certain commands a user name of an existing user account
            on the guest must be specified. Anonymous executions are not
            supported for security reasons. A user account password,
            however, is optional and depends on the guest's OS security
            policy or rules. If no password is specified for a given
            user name, an empty password will be used. On certain OSes
            like Windows the security policy may needs to be adjusted in
            order to allow user accounts with an empty password set.
            Also, global domain rules might apply and therefore cannot
            be changed.
          </para>
        </note>

        <para>
          Starting at &product-name; 4.1.2 guest process execution by
          default is limited to serve up to five guest processes at a
          time. If a new guest process gets started which would exceed
          this limit, the oldest not running guest process will be
          discarded in order to be able to run that new process. Also,
          retrieving output from this old guest process will not be
          possible anymore then. If all five guest processes are still
          active and running, starting a new guest process will result
          in an appropriate error message.
        </para>

        <para>
          To raise or lower the guest process execution limit, either
          use the guest property
          <computeroutput>/VirtualBox/GuestAdd/VBoxService/--control-procs-max-kept</computeroutput>
          or <command>VBoxService</command> command line by specifying
          <computeroutput>--control-procs-max-kept</computeroutput>
          needs to be modified. A restart of the guest OS is required
          afterwards. To serve unlimited guest processes, a value of
          <computeroutput>0</computeroutput> needs to be set, but this
          is not recommended.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>start</computeroutput>: Executes a guest
          program until it completes.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; start [common-options]
           [--exe &lt;path to executable&gt;] [--timeout &lt;msec&gt;]
           [-E|--putenv &lt;NAME&gt;[=&lt;VALUE&gt;]] [--unquoted-args]
           [--ignore-operhaned-processes] [--profile]
            -- &lt;program/arg0&gt; [argument1] ... [argumentN]]
          </screen>

        <para>
          Where the options are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--exe &lt;path to
              executable&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the absolute path of the executable on the
                guest OS file system. Mandatory. For example:
                <filename>C:\Windows\System32\calc.exe</filename>
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--timeout &lt;msec&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the maximum time, in microseconds, that the
                executable can run. Optional. If unspecified,
                <command>VBoxManage</command> waits indefinitely for the
                process to end, or an error occurs.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>-E|--putenv
              &lt;NAME&gt;=&lt;VALUE&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Sets, modifies, and unsets environment variables in the
                environment in which the program will run. Optional.
              </para>

              <para>
                The guest process is created with the standard default
                guest OS environment. Use this option to modify that
                default environment. To set or modify a variable use:
                <computeroutput>&lt;NAME&gt;=&lt;VALUE&gt;</computeroutput>.
                To unset a variable use:
                <computeroutput>&lt;NAME&gt;=</computeroutput>
              </para>

              <para>
                Any spaces in names and values should be enclosed by
                quotes.
              </para>

              <para>
                To set, modify, or unset multiple variables, use
                multiple instances of the
                <computeroutput>--E|--putenv</computeroutput> option.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--unquoted-args</computeroutput>
            </term>

            <listitem>
              <para>
                Disables escaped double quoting, such as \"fred\", on
                arguments passed to the executed program. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--ignore-operhaned-processes</computeroutput>
            </term>

            <listitem>
              <para>
                Ignores orphaned processes. Not yet implemented.
                Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--profile</computeroutput>
            </term>

            <listitem>
              <para>
                Use a profile. Not yet implemented. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>[-- &lt;program/arg0&gt;
              [&lt;argument1&gt;] ...
              [&lt;argumentN&gt;]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the program name, followed by one or more
                arguments to pass to the program. Optional.
              </para>

              <para>
                Any spaces in arguments should be enclosed by quotes.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>

        <note>
          <para>
            On Windows there are certain limitations for graphical
            applications. See <xref linkend="KnownIssues" />.
          </para>
        </note>

        <para>
          Examples of using the <command>guestcontrol start</command>
          command are as follows:
        </para>

<screen>VBoxManage --nologo guestcontrol "My VM" start --exe "/bin/ls"
          --username foo --passwordfile bar.txt --wait-exit --wait-stdout -- -l /usr</screen>

<screen>VBoxManage --nologo guestcontrol "My VM" start --exe "c:\\windows\\system32\\ipconfig.exe"
          --username foo --passwordfile bar.txt --wait-exit --wait-stdout</screen>

        <para>
          Note that the double backslashes in the second example are
          only required on UNIX hosts.
        </para>

        <note>
          <para>
            For certain commands a user name of an existing user account
            on the guest must be specified. Anonymous executions are not
            supported for security reasons. A user account password,
            however, is optional and depends on the guest's OS security
            policy or rules. If no password is specified for a given
            user name, an empty password will be used. On certain OSes
            like Windows the security policy may needs to be adjusted in
            order to allow user accounts with an empty password set.
            Also, global domain rules might apply and therefore cannot
            be changed.
          </para>
        </note>

        <para>
          Starting at &product-name; 4.1.2 guest process execution by
          default is limited to serve up to five guest processes at a
          time. If a new guest process gets started which would exceed
          this limit, the oldest not running guest process will be
          discarded in order to be able to run that new process. Also,
          retrieving output from this old guest process will not be
          possible anymore then. If all five guest processes are still
          active and running, starting a new guest process will result
          in an appropriate error message.
        </para>

        <para>
          To raise or lower the guest process execution limit, either
          use the guest property
          <computeroutput>/VirtualBox/GuestAdd/VBoxService/--control-procs-max-kept</computeroutput>
          or <command>VBoxService</command> command line by specifying
          <computeroutput>--control-procs-max-kept</computeroutput>
          needs to be modified. A restart of the guest OS is required
          afterwards. To serve unlimited guest processes, a value of
          <computeroutput>0</computeroutput> needs to be set, but this
          is not recommended.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>copyfrom</computeroutput>: Copies files from
          the guest to the host file system. Only available with Guest
          Additions 4.0 or later installed.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; copyfrom [common-options]
           [--follow] [--R|recursive]
            --target-directory &lt;host-dst-dir&gt;
            &lt;guest-src0&gt; [&lt;guest-src1&gt; [...]] </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--follow</computeroutput>
            </term>

            <listitem>
              <para>
                Enables symlink following on the guest file system.
                Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>-R|--recursive</computeroutput>
            </term>

            <listitem>
              <para>
                Enables recursive copying of files and directories from
                the specified guest file system directory. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--target-directory
              &lt;host-dst-dir&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the absolute path of the host file system
                destination directory. Mandatory. For example:
                <filename>C:\Temp</filename>.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;guest-src0&gt; [&lt;guest-src1&gt;
              [...]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the absolute paths of guest file system files
                to be copied. Mandatory. For example:
                <filename>C:\Windows\System32\calc.exe</filename>.
                Wildcards can be used in the expressions. For example:
                <filename>C:\Windows\System*\*.dll</filename>.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>copyto</computeroutput>: Copies files from the
          host to the guest file system. Only available with Guest
          Additions 4.0 or later installed.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; copyto [common-options]
           [--follow] [--R|recursive]
            --target-directory &lt;guest-dst&gt;
            &lt;host-src0&gt; [&lt;host-src1&gt; [...]] </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--follow</computeroutput>
            </term>

            <listitem>
              <para>
                Enables symlink following on the host file system.
                Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>-R|--recursive</computeroutput>
            </term>

            <listitem>
              <para>
                Enables recursive copying of files and directories from
                the specified host file system directory. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--target-directory
              &lt;guest-dst&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the absolute path of the guest file system
                destination directory. Mandatory. For example:
                <filename>C:\Temp</filename>.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;host-src0&gt; [&lt;host-src1&gt;
              [...]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the absolute paths of host file system files
                to be copied. Mandatory. For example:
                <filename>C:\Windows\System32\calc.exe</filename>.
                Wildcards can be used in the expressions. For example:
                <filename>C:\Windows\System*\*.dll</filename>.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>md|mkdir|createdir|createdirectory</computeroutput>:
          Creates one or more directories on the guest file system. Only
          available with Guest Additions 4.0 or later installed.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt;  md|mkdir|createdir|createdirectory [common-options]
            [--parents] [--mode &lt;mode&gt;]
            &lt;guest-dir0&gt; [&lt;guest-dir1&gt; [...]] </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--parents</computeroutput>
            </term>

            <listitem>
              <para>
                Creates any absent parent directories of the specified
                directory. Optional.
              </para>

              <para>
                For example: If specified directory is
                <filename>D:\Foo\Bar</filename> and
                <filename>D:\Foo</filename> is absent, it will be
                created. In such a case, had the
                <computeroutput>--parents</computeroutput> option not
                been used, this command would have failed.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--mode &lt;mode&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the permission mode on the specified
                directories, and any parents, if the
                <computeroutput>--parents</computeroutput> option is
                used. Currently octal modes only, such as.
                <computeroutput>0755</computeroutput>, are supported.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;guest-dir0&gt; [&lt;guest-dir1&gt;
              [...]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies a list of absolute paths of directories to be
                created on guest file system. Mandatory. For example:
                <filename>D:\Foo\Bar</filename>.
              </para>

              <para>
                All parent directories must already exist unless the
                switch <computeroutput>--parents</computeroutput> is
                used. For example, in the above example
                <filename>D:\Foo</filename>. The specified user must
                have sufficient rights to create the specified
                directories, and any parents that need to be created.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>rmdir|removedir|removedirectory</computeroutput>:
          Deletes specified guest file system directories. Only
          available with installed Guest Additions 4.3.2 and later.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; rmdir|removedir|removedirectory [common-options]
           [--recursive|-R]
            &lt;guest-dir0&gt; [&lt;guest-dir1&gt; [...]]
          </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--recursive</computeroutput>
            </term>

            <listitem>
              <para>
                Recursively removes directories and contents. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;guest-dir0&gt; [&lt;guest-dir1&gt;
              [...]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies a list of the absolute paths of directories to
                be deleted on guest file system. Mandatory. Wildcards
                are allowed. For example:
                <filename>D:\Foo\*Bar</filename>. The specified user
                must have sufficient rights to delete the specified
                directories.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>rm|removefile</computeroutput>: Deletes
          specified files on the guest file system. Only available with
          installed Guest Additions 4.3.2 and later.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; rm|removefile [common-options]
           [-f|--force]
            &lt;guest-file0&gt; [&lt;guest-file1&gt; [...]] </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>-f|--force</computeroutput>
            </term>

            <listitem>
              <para>
                Enforce operation and override any requests for
                confirmations. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;guest-file0&gt; [&lt;guest-file1&gt;
              [...]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies a list of absolute paths of files to be
                deleted on guest file system. Mandatory. Wildcards are
                allowed. For example:
                <filename>D:\Foo\Bar\text*.txt</filename>. The specified
                user should have sufficient rights to delete the
                specified files.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>mv|move|ren|rename</computeroutput>: Renames
          files and/or directories on the guest file system. Only
          available with installed Guest Additions 4.3.2 and later.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; mv|move|ren|rename [common-options]
           &lt;guest-source0&gt; [&lt;guest-source1&gt; [...]] &lt;guest-dest&gt;</screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;guest-source0&gt;
              [&lt;guest-source1&gt; [...]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies absolute paths of files or a single directory
                to be moved and renamed on guest file system. Mandatory.
                Wildcards are allowed in file names. The specified user
                should have sufficient rights to access the specified
                files.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;dest&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the absolute path of the destination file or
                directory to which the files are to be moved. Mandatory.
                If only one file to be moved, &lt;dest&gt; can be file
                or directory, else it must be a directory. The specified
                user must have sufficient rights to access the
                destination file or directory.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>mktemp|createtemp|createtemporary</computeroutput>:
          Creates a temporary file or directory on the guest file
          system, to assist subsequent copying of files from the host to
          the guest file systems. By default, the file or directory is
          created in the guest's platform specific temp directory. Not
          currently supported. Only available with installed Guest
          Additions 4.2 and later.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; mktemp|createtemp|createtemporary [common-options]
           [--directory] [--secure] [--mode &lt;mode&gt;] [--tmpdir &lt;directory&gt;]
            &lt;template&gt;
            </screen>

        <para>
          The parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--directory</computeroutput>
            </term>

            <listitem>
              <para>
                Creates a temporary directory instead of a file,
                specified by the &lt;template&gt; parameter. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--secure</computeroutput>
            </term>

            <listitem>
              <para>
                Enforces secure file and directory creation. Optional.
                The permission mode is set to
                <computeroutput>0755</computeroutput>. Operation fails
                if it cannot be performed securely.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--mode &lt;mode&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the permission mode of the specified
                directory. Optional. Currently only octal modes, such as
                <computeroutput>0755</computeroutput>, are supported.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--tmpdir
              &lt;directory&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the absolute path of the directory on the
                guest file system where the file or directory specified
                will be created. Optional. If unspecified, the
                platform-specific temp directory is used.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;template&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies a file name without a directory path,
                containing at least one sequence of three consecutive X
                characters, or ending in X. Mandatory.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>stat</computeroutput>: Displays file or file
          system statuses on the guest.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; stat [common-options]
           &lt;file0&gt; [&lt;file1&gt; [...]]</screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;file0&gt; [&lt;file1&gt;
              [...]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies absolute paths of files or file systems on the
                guest file system. Mandatory. For example:
                <filename>/home/foo/a.out</filename>. The specified user
                should have sufficient rights to access the specified
                files or file systems.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

    </itemizedlist>

    <para>
      The second set of subcommands is of the form:
    </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; &lt;sub-command&gt;
           [-v|--verbose] [-q|quiet] ...
    </screen>

    <para>
      The common options are as follows:
    </para>

<screen>
            [-v|--verbose] [-q|--quiet]
    </screen>

    <para>
      Details of the common options for the second set of subcommands
      are as follows:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>-v|--verbose</computeroutput>
        </term>

        <listitem>
          <para>
            Makes the subcommand execution more verbose. Optional.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>-q|--quiet</computeroutput>
        </term>

        <listitem>
          <para>
            Makes the subcommand execution quieter. Optional.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>
      The second set of subcommands are as follows:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          <computeroutput>list</computeroutput>: Lists guest control
          configuration and status data. For example: open guest
          sessions, guest processes, and files.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; list [common-opts]
           &lt;all|sessions|processes|files&gt; </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>all|sessions|processes|files</computeroutput>
            </term>

            <listitem>
              <para>
                Indicates whether to list all available data or guest
                sessions, processes or files. Mandatory.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>closeprocess</computeroutput>: Terminates
          guest processes specified by PIDs running in a guest session,
          specified by the session ID or name.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; closeprocess [common-options]
           --session-id &lt;ID&gt; | --session-name &lt;name or pattern&gt;
           &lt;PID0&gt; [&lt;PID1&gt; [...]] </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--session-id &lt;ID&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the guest session by its ID. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--session-name &lt;name or
              pattern&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the guest session by its name, or multiple
                sessions using a pattern containing wildcards. Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>&lt;PID0&gt; [&lt;PID1&gt;
              [...]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies a list of process identifiers (PIDs) of guest
                processes to be terminated. Mandatory.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>closesession</computeroutput>: Closes
          specified guest sessions, specified either by session ID or
          name.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; closesession [common-options]
           --session-id &lt;ID&gt; | --session-name &lt;name or pattern&gt; | --all </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--session-id &lt;ID&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the guest session to be closed by ID.
                Optional.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--session-name &lt;name or
              pattern&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the guest session to be closed by name.
                Optional. Multiple sessions can be specified by using a
                pattern containing wildcards.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--all</computeroutput>
            </term>

            <listitem>
              <para>
                Close all guest sessions. Optional.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>updatega|updateadditions|updateguestadditions</computeroutput>:
          Ugrades Guest Additions already installed on the guest. Only
          available for already installed Guest Additions 4.0 and later.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; updatega|updateadditions|updateguestadditions
           [common-options]
           [--source &lt;New .ISO path&gt;]
           [--wait-start]
           [-- &lt;argument0&gt; [&lt;argument1&gt; [...]]]</screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--source</computeroutput> &lt;New .ISO
              path&gt;
            </term>

            <listitem>
              <para>
                Specifies the absolute path on the guest file system of
                the .ISO file for the Guest Additions update. Mandatory.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>--wait-start</computeroutput>
            </term>

            <listitem>
              <para>
                Indicates that <command>VBoxManage</command> starts the
                usual updating process on the guest and then waits until
                the actual Guest Additions updating begins, at which
                point <command>VBoxManage</command> self-terminates.
                Optional.
              </para>

              <para>
                Default behavior is that <command>VBoxManage</command>
                waits for completion of the Guest Additions update
                before terminating. Use of this option is sometimes
                necessary, as a running <command>VBoxManage</command>
                can affect the interaction between the installer and the
                guest OS.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>
              <computeroutput>[-- &lt;argument0&gt; [&lt;argument1&gt;
              [...]]]</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies optional command line arguments to be supplied
                to the Guest Additions updater. Useful for retrofitting
                features which are not currently installed.
              </para>

              <para>
                Arguments containing spaces should be enclosed by
                quotes.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

      <listitem>
        <para>
          <computeroutput>watch</computeroutput>: Prints current guest
          control activity.
        </para>

<screen>VBoxManage guestcontrol &lt;uuid|vmname&gt; watch [common-options]
          </screen>

        <para>
          Where the parameters are as follows:
        </para>

        <variablelist>

          <varlistentry>
            <term>
              <computeroutput>&lt;uuid|vmname&gt;</computeroutput>
            </term>

            <listitem>
              <para>
                Specifies the VM UUID or VM name. Mandatory.
              </para>
            </listitem>
          </varlistentry>

        </variablelist>
      </listitem>

    </itemizedlist>

  </sect1>

  <xi:include href="user_man_VBoxManage-debugvm.xml"        xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <sect1 id="vboxmanage-metrics">

    <title>VBoxManage metrics</title>

    <para>
      This command supports monitoring the usage of system resources.
      Resources are represented by various metrics associated with the
      host system or a particular VM. For example, the host system has a
      <computeroutput>CPU/Load/User</computeroutput> metric that shows
      the percentage of time CPUs spend executing in user mode over a
      specific sampling period.
    </para>

    <para>
      Metric data is collected and retained internally. It may be
      retrieved at any time with the <command>VBoxManage metrics
      query</command> subcommand. The data is available as long as the
      background <computeroutput>VBoxSVC</computeroutput> process is
      alive. That process terminates shortly after all VMs and frontends
      have been closed.
    </para>

    <para>
      By default no metrics are collected at all. Metrics collection
      does not start until <command>VBoxManage metrics setup</command>
      is invoked with a proper sampling interval and the number of
      metrics to be retained. The interval is measured in seconds. For
      example, to enable collecting the host processor and memory usage
      metrics every second and keeping the five most current samples,
      the following command can be used:
    </para>

<screen>VBoxManage metrics setup --period 1 --samples 5 host CPU/Load,RAM/Usage</screen>

    <para>
      Metric collection can only be enabled for started VMs. Collected
      data and collection settings for a particular VM will disappear as
      soon as it shuts down. Use the <command>VBoxManage metrics
      list</command> subcommand to see which metrics are currently
      available. You can also use the <option>--list</option> option
      with any subcommand that modifies metric settings to find out
      which metrics were affected.
    </para>

    <para>
      Note that the <command>VBoxManage metrics setup</command>
      subcommand discards all samples that may have been previously
      collected for the specified set of objects and metrics.
    </para>

    <para>
      To enable or disable metrics collection without discarding the
      data, <command>VBoxManage metrics enable</command> and
      <command>VBoxManage metrics disable</command> subcommands can be
      used. Note that these subcommands expect metrics as parameters,
      not submetrics such as <computeroutput>CPU/Load</computeroutput>
      or <computeroutput>RAM/Usage</computeroutput>. In other words
      enabling <computeroutput>CPU/Load/User</computeroutput> while
      disabling <computeroutput>CPU/Load/Kernel</computeroutput> is not
      supported.
    </para>

    <para>
      The host and VMs have different sets of associated metrics.
      Available metrics can be listed with <command>VBoxManage metrics
      list</command> subcommand.
    </para>

    <para>
      A complete metric name may include an aggregate function. The name
      has the following form:
      <computeroutput>Category/Metric[/SubMetric][:aggregate]</computeroutput>.
      For example, <computeroutput>RAM/Usage/Free:min</computeroutput>
      stands for the minimum amount of available memory over all
      retained data if applied to the host object.
    </para>

    <para>
      Subcommands may apply to all objects and metrics or can be limited
      to one object and a list of metrics. If no objects or metrics are
      given in the parameters, the subcommands will apply to all
      available metrics of all objects. You may use an asterisk
      "<computeroutput>*</computeroutput>" to explicitly specify that
      the command should be applied to all objects or metrics. Use
      <computeroutput>host</computeroutput> as the object name to limit
      the scope of the command to host-related metrics. To limit the
      scope to a subset of metrics, use a metric list with names
      separated by commas.
    </para>

    <para>
      For example, to query metric data on the CPU time spent in user
      and kernel modes by the virtual machine named
      <computeroutput>test</computeroutput>, use the following command:
    </para>

<screen>VBoxManage metrics query test CPU/Load/User,CPU/Load/Kernel</screen>

    <para>
      The following list summarizes the available subcommands:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>list</computeroutput>
        </term>

        <listitem>
          <para>
            Shows the parameters of the currently existing metrics. Note
            that VM-specific metrics are only available when a
            particular VM is running.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>setup</computeroutput>
        </term>

        <listitem>
          <para>
            Sets the interval between taking two samples of metric data
            and the number of samples retained internally. The retained
            data is available for displaying with the
            <command>query</command> subcommand. The
            <computeroutput>--list</computeroutput> option shows which
            metrics have been modified as the result of the command
            execution.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>enable</computeroutput>
        </term>

        <listitem>
          <para>
            Resumes data collection after it has been stopped with the
            <command>disable</command> subcommand. Note that specifying
            submetrics as parameters will not enable underlying metrics.
            Use <computeroutput>--list</computeroutput> to find out if
            the command worked as expected.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>disable</computeroutput>
        </term>

        <listitem>
          <para>
            Suspends data collection without affecting collection
            parameters or collected data. Note that specifying
            submetrics as parameters will not disable underlying
            metrics. Use <computeroutput>--list</computeroutput> to find
            out if the command worked as expected.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>query</computeroutput>
        </term>

        <listitem>
          <para>
            Retrieves and displays the currently retained metric data.
          </para>

          <note>
            <para>
              The <command>query</command> subcommand does not remove or
              flush retained data. If you query often enough you will
              see how old samples are gradually being phased out by new
              samples.
            </para>
          </note>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>collect</computeroutput>
        </term>

        <listitem>
          <para>
            Sets the interval between taking two samples of metric data
            and the number of samples retained internally. The collected
            data is displayed periodically until Ctrl+C is pressed,
            unless the <computeroutput>--detach</computeroutput> option
            is specified. With the
            <computeroutput>--detach</computeroutput> option, this
            subcommand operates the same way as
            <computeroutput>setup</computeroutput> does. The
            <computeroutput>--list</computeroutput> option shows which
            metrics match the specified filter.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect1>

  <sect1 id="vboxmanage-natnetwork">

    <title>VBoxManage natnetwork</title>

    <para>
      NAT networks use the Network Address Translation (NAT) service,
      which works in a similar way to a home router. It groups systems
      using it into a network and prevents outside systems from directly
      accessing those inside, while letting systems inside communicate
      with each other and outside systems using TCP and UDP over IPv4
      and IPv6.
    </para>

    <para>
      A NAT service is attached to an internal network. Virtual machines
      to make use of one should be attached to it. The name of an
      internal network is chosen when the NAT service is created, and
      the internal network will be created if it does not already exist.
      The following is an example command to create a NAT network:
    </para>

<screen>VBoxManage natnetwork add --netname natnet1 --network "192.168.15.0/24" --enable</screen>

    <para>
      Here, <computeroutput>natnet1</computeroutput> is the name of the
      internal network to be used and
      <computeroutput>192.168.15.0/24</computeroutput> is the network
      address and mask of the NAT service interface. By default, in this
      static configuration the gateway will be assigned the address
      192.168.15.1, the address after the interface address, though this
      is subject to change.
    </para>

    <para>
      To add a DHCP server to the NAT network after creation, run the
      following command:
    </para>

<screen>VBoxManage natnetwork modify --netname natnet1 --dhcp on</screen>

    <para>
      The subcommands for <command>VBoxManage natnetwork</command> are
      as follows:
    </para>

<screen>VBoxManage natnetwork add --netname &lt;name&gt;
                         [--network &lt;network&gt;]
                         [--enable|--disable]
                         [--dhcp on|off]
                         [--port-forward-4 &lt;rule&gt;]
                         [--loopback-4 &lt;rule&gt;]
                         [--ipv6 on|off]
                         [--port-forward-6 &lt;rule&gt;]
                         [--loopback-6 &lt;rule&gt;]
    </screen>

    <para>
      <command>VBoxManage natnetwork add</command>: Creates a new
      internal network interface, and adds a NAT network service. This
      command is a prerequisite for enabling attachment of VMs to the
      NAT network. Parameters are as follows:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>--netname &lt;name&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Where &lt;name&gt; is the name of the new internal network
            interface on the host OS.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--network &lt;network&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Where &lt;network&gt; specifies the static or DHCP network
            address and mask of the NAT service interface. The default
            is a static network address.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--enable|--disable</computeroutput>
        </term>

        <listitem>
          <para>
            Enables and disables the NAT network service.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--dhcp on|off</computeroutput>
        </term>

        <listitem>
          <para>
            Enables and disables a DHCP server specified by
            <computeroutput>--netname</computeroutput>. Use of this
            option also indicates that it is a DHCP server.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--port-forward-4 &lt;rule&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Enables IPv4 port forwarding, with a rule specified by
            &lt;rule&gt;.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--loopback-4 &lt;rule&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Enables the IPv4 loopback interface, with a rule specified
            by &lt;rule&gt;.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--ipv6 on|off</computeroutput>
        </term>

        <listitem>
          <para>
            Enables and disables IPv6. The default setting is IPv4,
            disabling IPv6 enables IPv4.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--port-forward-6 &lt;rule&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Enables IPv6 port forwarding, with a rule specified by
            &lt;rule&gt;.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--loopback-6 &lt;rule&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Enables the IPv6 loopback interface, with a rule specified
            by &lt;rule&gt;.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

<screen>VBoxManage natnetwork remove --netname &lt;name&gt; </screen>

    <para>
      <command>VBoxManage natnetwork remove</command>: Removes a NAT
      network service. Parameters are as follows:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>--netname &lt;name&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Where &lt;name&gt; specifies an existing NAT network
            service. Does not remove any DHCP server enabled on the
            network.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

<screen>VBoxManage natnetwork modify --netname &lt;name&gt;
                            [--network &lt;network&gt;]
                            [--enable|--disable]
                            [--dhcp on|off]
                            [--port-forward-4 &lt;rule&gt;]
                            [--loopback-4 &lt;rule&gt;]
                            [--ipv6 on|off]
                            [--port-forward-6 &lt;rule&gt;]
                            [--loopback-6 &lt;rule&gt;]
    </screen>

    <para>
      <command>VBoxManage natnetwork modify</command>: Modifies an
      existing NAT network service. Parameters are as follows:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>--netname &lt;name&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Where &lt;name&gt; specifies an existing NAT network
            service.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--network &lt;network&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Where &lt;network&gt; specifies the new static or DHCP
            network address and mask of the NAT service interface. The
            default is a static network address.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--enable|--disable</computeroutput>
        </term>

        <listitem>
          <para>
            Enables and disables the NAT network service.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--dhcp on|off</computeroutput>
        </term>

        <listitem>
          <para>
            Enables and disables a DHCP server. If a DHCP server is not
            present, using enable adds a new DHCP server.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--port-forward-4 &lt;rule&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Enables IPv4 port forwarding, with a rule specified by
            &lt;rule&gt;.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--loopback-4 &lt;rule&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Enables the IPv4 loopback interface, with a rule specified
            by &lt;rule&gt;.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--ipv6 on|off</computeroutput>
        </term>

        <listitem>
          <para>
            Enables and disables IPv6. The default setting is IPv4,
            disabling IPv6 enables IPv4.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--port-forward-6 &lt;rule&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Enables IPv6 port forwarding, with a rule specified by
            &lt;rule&gt;.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>--loopback-6 &lt;rule&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Enables IPv6 loopback interface, with a rule specified by
            &lt;rule&gt;.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

<screen>VBoxManage natnetwork start --netname &lt;name&gt;
    </screen>

    <para>
      <command>VBoxManage natnetwork start</command>: Starts the
      specified NAT network service and any associated DHCP server.
      Parameters are as follows:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>--netname &lt;name&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Where &lt;name&gt; specifies an existing NAT network
            service.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

<screen>VBoxManage natnetwork stop --netname &lt;name&gt;
    </screen>

    <para>
      <command>VBoxManage natnetwork stop</command>: Stops the specified
      NAT network service and any DHCP server. Parameters are as
      follows:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>--netname &lt;name&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Where &lt;name&gt; specifies an existing NAT network
            service.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

<screen>VBoxManage natnetwork list [&lt;pattern&gt;] </screen>

    <para>
      <command>VBoxManage natnetwork list</command>: Lists all NAT
      network services, with optional filtering. Parameters are as
      follows:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>[&lt;pattern&gt;]</computeroutput>
        </term>

        <listitem>
          <para>
            Where &lt;pattern&gt; is an optional filtering pattern.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect1>

  <sect1 id="vboxmanage-hostonlyif">

    <title>VBoxManage hostonlyif</title>

    <para>
      The <command>hostonlyif</command> command enables you to change
      the IP configuration of a host-only network interface. For a
      description of host-only networking, see
      <xref linkend="network_hostonly" />. Each host-only interface is
      identified by a name and can either use the internal DHCP server
      or a manual IP configuration, both IP4 and IP6.
    </para>

    <para>
      The following list summarizes the available subcommands:
    </para>

    <variablelist>

      <varlistentry>
        <term>
          <computeroutput>ipconfig "&lt;name&gt;"</computeroutput>
        </term>

        <listitem>
          <para>
            Configures a host-only interface.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>create</computeroutput>
        </term>

        <listitem>
          <para>
            Creates a new vboxnet&lt;N&gt; interface on the host OS.
            This command is essential before you can attach VMs to a
            host-only network.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <computeroutput>remove vboxnet&lt;N&gt;</computeroutput>
        </term>

        <listitem>
          <para>
            Removes a vboxnet&lt;N&gt; interface from the host OS.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect1>

  <xi:include href="user_man_VBoxManage-hostonlynet.xml"    xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-dhcpserver.xml"     xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <sect1 id="vboxmanage-usbdevsource">

    <title>VBoxManage usbdevsource</title>

    <para>
      The <command>usbdevsource</command> commands enable you to add and
      remove USB devices globally.
    </para>

    <para>
      The following command adds a USB device.
    </para>

<screen>VBoxManage usbdevsource add &lt;source name&gt;
                            --backend &lt;backend&gt;
                            --address &lt;address&gt;
    </screen>

    <para>
      Where the command line options are as follows:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          <computeroutput>&lt;source name&gt;</computeroutput>:
          Specifies the ID of the source USB device to be added.
          Mandatory.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput>--backend &lt;backend&gt;</computeroutput>:
          Specifies the USB proxy service backend to use. Mandatory.
        </para>
      </listitem>

      <listitem>
        <para>
          <computeroutput> --address &lt;address&gt;</computeroutput>:
          Specifies the backend specific address. Mandatory.
        </para>
      </listitem>

    </itemizedlist>

    <para>
      The following command removes a USB device.
    </para>

<screen>VBoxManage usbdevsource remove &lt;source name&gt;
    </screen>

    <para>
      Where the command line options are as follows:
    </para>

    <itemizedlist>

      <listitem>
        <para>
          <computeroutput>&lt;source name&gt;</computeroutput>:
          Specifies the ID of the source USB device to be removed.
          Mandatory.
        </para>
      </listitem>

    </itemizedlist>

  </sect1>

  <xi:include href="user_man_VBoxManage-extpack.xml"        xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-updatecheck.xml"    xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="user_man_VBoxManage-modifynvram.xml"    xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

  <!-- TODO: Figure out how we can handle other manpages. The xml is bolted to
             sect1, so it's not possible to have them "in place" -->

  <xi:include href="user_man_vboximg-mount.xml"             xpointer="element(/1)" xmlns:xi="http://www.w3.org/2001/XInclude" />

</chapter>
